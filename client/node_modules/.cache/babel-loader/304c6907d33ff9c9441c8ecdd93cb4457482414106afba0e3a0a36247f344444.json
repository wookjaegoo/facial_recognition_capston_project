{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.KeyValueStorage = void 0;\nconst tslib_1 = require(\"tslib\");\nconst safe_json_utils_1 = require(\"safe-json-utils\");\nconst localStorage_1 = tslib_1.__importDefault(require(\"./lib/localStorage\"));\nconst shared_1 = require(\"../shared\");\nclass KeyValueStorage {\n  constructor() {\n    this.localStorage = localStorage_1.default;\n  }\n  getKeys() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return Object.keys(this.localStorage);\n    });\n  }\n  getEntries() {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      return Object.entries(this.localStorage).map(shared_1.parseEntry);\n    });\n  }\n  getItem(key) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      const item = this.localStorage.getItem(key);\n      if (item === null) {\n        return undefined;\n      }\n      return safe_json_utils_1.safeJsonParse(item);\n    });\n  }\n  setItem(key, value) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.localStorage.setItem(key, safe_json_utils_1.safeJsonStringify(value));\n    });\n  }\n  removeItem(key) {\n    return tslib_1.__awaiter(this, void 0, void 0, function* () {\n      this.localStorage.removeItem(key);\n    });\n  }\n}\nexports.KeyValueStorage = KeyValueStorage;\nexports.default = KeyValueStorage;","map":{"version":3,"mappings":";;;;;;;AAAA;AACA;AAEA;AAEA,MAAaA,eAAe;EAA5BC;IACmB,iBAAY,GAAYC,sBAAY;EA0BvD;EAxBeC,OAAO;;MAClB,OAAOC,MAAM,CAACC,IAAI,CAAC,IAAI,CAACC,YAAY,CAAC;IACvC,CAAC;;EAEYC,UAAU;;MACrB,OAAOH,MAAM,CAACI,OAAO,CAAC,IAAI,CAACF,YAAY,CAAC,CAACG,GAAG,CAACC,mBAAU,CAAC;IAC1D,CAAC;;EAEYC,OAAO,CAAUC,GAAW;;MACvC,MAAMC,IAAI,GAAG,IAAI,CAACP,YAAY,CAACK,OAAO,CAACC,GAAG,CAAC;MAC3C,IAAIC,IAAI,KAAK,IAAI,EAAE;QACjB,OAAOC,SAAS;;MAGlB,OAAOC,+BAAa,CAACF,IAAI,CAAM;IACjC,CAAC;;EAEYG,OAAO,CAAUJ,GAAW,EAAEK,KAAQ;;MACjD,IAAI,CAACX,YAAY,CAACU,OAAO,CAACJ,GAAG,EAAEG,mCAAiB,CAACE,KAAK,CAAC,CAAC;IAC1D,CAAC;;EAEYC,UAAU,CAACN,GAAW;;MACjC,IAAI,CAACN,YAAY,CAACY,UAAU,CAACN,GAAG,CAAC;IACnC,CAAC;;;AA1BHO;AA6BAA,kBAAenB,eAAe","names":["KeyValueStorage","constructor","localStorage_1","getKeys","Object","keys","localStorage","getEntries","entries","map","shared_1","getItem","key","item","undefined","safe_json_utils_1","setItem","value","removeItem","exports"],"sources":["../../../src/browser/index.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"script","externalDependencies":[]}