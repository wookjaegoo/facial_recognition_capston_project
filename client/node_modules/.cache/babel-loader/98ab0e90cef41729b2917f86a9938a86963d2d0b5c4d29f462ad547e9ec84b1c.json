{"ast":null,"code":"import { iou } from './iou';\nexport function nonMaxSuppression(boxes, scores, iouThreshold, isIOU) {\n  if (isIOU === void 0) {\n    isIOU = true;\n  }\n  var indicesSortedByScore = scores.map(function (score, boxIndex) {\n    return {\n      score: score,\n      boxIndex: boxIndex\n    };\n  }).sort(function (c1, c2) {\n    return c1.score - c2.score;\n  }).map(function (c) {\n    return c.boxIndex;\n  });\n  var pick = [];\n  var _loop_1 = function () {\n    var curr = indicesSortedByScore.pop();\n    pick.push(curr);\n    var indices = indicesSortedByScore;\n    var outputs = [];\n    for (var i = 0; i < indices.length; i++) {\n      var idx = indices[i];\n      var currBox = boxes[curr];\n      var idxBox = boxes[idx];\n      outputs.push(iou(currBox, idxBox, isIOU));\n    }\n    indicesSortedByScore = indicesSortedByScore.filter(function (_, j) {\n      return outputs[j] <= iouThreshold;\n    });\n  };\n  while (indicesSortedByScore.length > 0) {\n    _loop_1();\n  }\n  return pick;\n}","map":{"version":3,"mappings":"AACA,SAASA,GAAG,QAAQ,OAAO;AAE3B,OAAM,SAAUC,iBAAiB,CAC/BC,KAAY,EACZC,MAAgB,EAChBC,YAAoB,EACpBC,KAAqB;EAArB;IAAAA,YAAqB;EAAA;EAGrB,IAAIC,oBAAoB,GAAGH,MAAM,CAC9BI,GAAG,CAAC,UAACC,KAAK,EAAEC,QAAQ;IAAK,OAAC;MAAED,KAAK;MAAEC,QAAQ;IAAA,CAAE;EAApB,CAAqB,CAAC,CAC/CC,IAAI,CAAC,UAACC,EAAE,EAAEC,EAAE;IAAK,SAAE,CAACJ,KAAK,GAAGI,EAAE,CAACJ,KAAK;EAAnB,CAAmB,CAAC,CACrCD,GAAG,CAAC,WAAC;IAAI,QAAC,CAACE,QAAQ;EAAV,CAAU,CAAC;EAEvB,IAAMI,IAAI,GAAa,EAAE;;IAGvB,IAAMC,IAAI,GAAGR,oBAAoB,CAACS,GAAG,EAAY;IACjDF,IAAI,CAACG,IAAI,CAACF,IAAI,CAAC;IAEf,IAAMG,OAAO,GAAGX,oBAAoB;IAEpC,IAAMY,OAAO,GAAa,EAAE;IAC5B,KAAK,IAAIC,CAAC,GAAG,CAAC,EAAEA,CAAC,GAAGF,OAAO,CAACG,MAAM,EAAED,CAAC,EAAE,EAAE;MACvC,IAAME,GAAG,GAAGJ,OAAO,CAACE,CAAC,CAAC;MAEtB,IAAMG,OAAO,GAAGpB,KAAK,CAACY,IAAI,CAAC;MAC3B,IAAMS,MAAM,GAAGrB,KAAK,CAACmB,GAAG,CAAC;MAEzBH,OAAO,CAACF,IAAI,CAAChB,GAAG,CAACsB,OAAO,EAAEC,MAAM,EAAElB,KAAK,CAAC,CAAC;;IAG3CC,oBAAoB,GAAGA,oBAAoB,CAACkB,MAAM,CAChD,UAACC,CAAC,EAAEC,CAAC;MAAK,cAAO,CAACA,CAAC,CAAC,IAAItB,YAAY;IAA1B,CAA0B,CACrC;;EAlBH,OAAME,oBAAoB,CAACc,MAAM,GAAG,CAAC;;;EAqBrC,OAAOP,IAAI;AAEb","names":["iou","nonMaxSuppression","boxes","scores","iouThreshold","isIOU","indicesSortedByScore","map","score","boxIndex","sort","c1","c2","pick","curr","pop","push","indices","outputs","i","length","idx","currBox","idxBox","filter","_","j"],"sources":["../../../src/ops/nonMaxSuppression.ts"],"sourcesContent":[null]},"metadata":{},"sourceType":"module","externalDependencies":[]}